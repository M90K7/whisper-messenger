<div class="row">
  <div class="col-2">
    <mat-form-field class="example-form-field w-100">
      <mat-label>جستجو</mat-label>
      <input matInput
             type="text"
             [(ngModel)]="search">
      @if (search) {
      <button matSuffix
              mat-icon-button
              aria-label="Clear"
              (click)="search=''">
        <mat-icon>close</mat-icon>
      </button>
      }
    </mat-form-field>
  </div>
  <div class="col">
    <table mat-table
           [dataSource]="dataSource"
           class="mat-elevation-z8">

      <!-- Position Column -->
      <ng-container matColumnDef="id">
        <th mat-header-cell
            *matHeaderCellDef> شناسه </th>
        <td mat-cell
            *matCellDef="let element"> {{element.id}} </td>
      </ng-container>

      <ng-container matColumnDef="sender.fullName">
        <th mat-header-cell
            *matHeaderCellDef> ارسال کننده </th>
        <td mat-cell
            *matCellDef="let element"> {{element.sender.fullName}} </td>
      </ng-container>

      <ng-container matColumnDef="receiver.fullName">
        <th mat-header-cell
            *matHeaderCellDef> دریافت کننده </th>
        <td mat-cell
            *matCellDef="let element"> {{element.receiver.fullName}} </td>
      </ng-container>

      <ng-container matColumnDef="timestamp">
        <th mat-header-cell
            *matHeaderCellDef> تاریخ </th>
        <td mat-cell
            *matCellDef="let element"
            style="direction: ltr;"> {{element.timestamp | dateTimeFormat}} </td>
      </ng-container>

      <ng-container matColumnDef="content">
        <th mat-header-cell
            *matHeaderCellDef> متن پیام </th>
        <td mat-cell
            *matCellDef="let element"> {{element.content}} </td>
      </ng-container>

      <ng-container matColumnDef="filePath">
        <th mat-header-cell
            *matHeaderCellDef> آدرس محتوا </th>
        <td mat-cell
            *matCellDef="let element"> {{element.filePath}} </td>
      </ng-container>

      <ng-container matColumnDef="removed">
        <th mat-header-cell
            *matHeaderCellDef> حـذف </th>
        <td mat-cell
            *matCellDef="let element"> {{element.removed}} </td>
      </ng-container>

      <ng-container matColumnDef="seen">
        <th mat-header-cell
            *matHeaderCellDef> مشاهده شده </th>
        <td mat-cell
            *matCellDef="let element"> {{element.seen}} </td>
      </ng-container>

      <!-- Name Column -->
      <!-- <ng-container matColumnDef="name">
        <th mat-header-cell
            *matHeaderCellDef> Name </th>
        <td mat-cell
            *matCellDef="let element"> {{element.name}} </td>
      </ng-container> -->

      <tr mat-header-row
          *matHeaderRowDef="displayedColumns">
      </tr>
      <tr mat-row
          *matRowDef="let row; columns: displayedColumns;">
      </tr>

      <!-- Row shown when there is no matching data. -->
      <tr class="mat-row"
          *matNoDataRow>
        <td class="mat-cell"
            colspan="4">No data matching the filter "{{search}}"</td>
      </tr>
    </table>
  </div>
</div>